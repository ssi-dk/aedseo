% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/estimate_disease_threshold.R
\name{estimate_disease_threshold}
\alias{estimate_disease_threshold}
\title{Estimate the disease specific threshold}
\usage{
estimate_disease_threshold(
  onset_output,
  skip_current_season = TRUE,
  min_significant_time = 5,
  use_prev_seasons_num = 3,
  pick_significant_sequence = c("longest", "earliest"),
  season_importance_decay = 0.8,
  percentiles = c(0.25, 0.5, 0.75),
  ...
)
}
\arguments{
\item{onset_output}{A \code{tsd_onset} object returned from \code{seasonal_onset()}.}

\item{skip_current_season}{A logical. Do you want to skip your current season?}

\item{min_significant_time}{An integer specifying how many time steps that have to be significant to the sequence
to be considered in estimation.}

\item{use_prev_seasons_num}{An integer specifying how many previous seasons you want to include in estimation.}

\item{pick_significant_sequence}{A character string specifying which significant sequence to pick from each season.
\itemize{
\item \code{longest}: The longest sequence of size \code{min_significant_time} closest to the peak.
\item \code{earliest}: The earliest sequence of size \code{min_significant_time} of the season.
}}

\item{season_importance_decay}{A numeric value between 0 and 1, that specifies the weight applied to previous
seasons. It is used as \code{season_importance_decay}^(number of seasons back), whereby the weight for the most recent
season will be \code{season_importance_decay}^0 = 1. This parameter allows for a decreasing weight assigned to prior
seasons, such that the influence of older seasons diminishes exponentially.}

\item{percentiles}{A numeric vector specifying the confidence levels for parameter estimates. The values have
to be unique and in ascending order, the first percentile is the disease specific threshold.
Specify one or three confidence levels e.g.: \code{c(0.25)} \code{c(0.25, 0.5, 0.75)}.}

\item{...}{Arguments passed to the \code{fit_percentiles()} function.}
}
\value{
An object of class \code{tsd_disease_threshold}, containing;
....
}
\description{
This function estimates the disease specific threshold, based on previous seasons.
If the disease threshold is estimated between ]0:1] it will be set to 1.
Uses data from a \code{tsd_onset} object.

\code{seasonal_onset()} has to be run with arguments;
\itemize{
\item season_start
\item season_end
\item only_current_season = FALSE
}
}
\examples{
# Generate seasonal data
tsd_data <- generate_seasonal_data(
 years = 1,
 start_date = as.Date("2021-01-01")
)

# Genereate onset data with seasons
onset_data <- seasonal_onset(
 tsd = tsd_data,
 season_start = 21,
 only_current_season = FALSE
)

# Estimate disease threshold
estimate_disease_threshold(onset_data)

}
