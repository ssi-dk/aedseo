<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create a tibble-like tsd (time-series data) object from time series data and corresponding dates. — to_time_series • aedseo</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create a tibble-like tsd (time-series data) object from time series data and corresponding dates. — to_time_series"><meta name="description" content="This function takes cases and the corresponding date vector (time) and converts it into a tsd object, which is
a time series data structure that can be used for time series analysis. If incidence is added, it will be used as
observation in all future use of the aedseo package on the defined tsd object.
Options:
incidence can be calculated if also supplying cases, population, and incidence_denominator.
cases can be calculated if also supplying incidence, population and incidence_denominator.
If background population changes during the time series,
it is used to adjust the growth rate in seasonal_onset().

"><meta property="og:description" content="This function takes cases and the corresponding date vector (time) and converts it into a tsd object, which is
a time series data structure that can be used for time series analysis. If incidence is added, it will be used as
observation in all future use of the aedseo package on the defined tsd object.
Options:
incidence can be calculated if also supplying cases, population, and incidence_denominator.
cases can be calculated if also supplying incidence, population and incidence_denominator.
If background population changes during the time series,
it is used to adjust the growth rate in seasonal_onset().

"><meta property="og:image" content="https://ssi-dk.github.io/aedseo/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">aedseo</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/aedseo.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/burden_levels.html">Seasonal Burden Levels</a></li>
    <li><a class="dropdown-item" href="../articles/generate_seasonal_wave.html">Simulate Seasonal Epidemic Waves</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_waves.html">Multiple waves</a></li>
    <li><a class="dropdown-item" href="../articles/seasonal_onset.html">Seasonal Epidemic Onset</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ssi-dk/aedseo/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create a tibble-like <code>tsd</code> (time-series data) object from time series data and corresponding dates.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ssi-dk/aedseo/blob/v1.0.0/R/to_time_series.R" class="external-link"><code>R/to_time_series.R</code></a></small>
      <div class="d-none name"><code>to_time_series.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes <code>cases</code> and the corresponding date vector (<code>time</code>) and converts it into a <code>tsd</code> object, which is
a time series data structure that can be used for time series analysis. If incidence is added, it will be used as
observation in all future use of the <code>aedseo</code> package on the defined <code>tsd</code> object.</p>
<p>Options:</p><ul><li><p><code>incidence</code> can be calculated if also supplying <code>cases</code>, <code>population</code>, and <code>incidence_denominator</code>.</p></li>
<li><p><code>cases</code> can be calculated if also supplying <code>incidence</code>, <code>population</code> and <code>incidence_denominator</code>.</p></li>
<li><p>If background population changes during the time series,
it is used to adjust the growth rate in <code><a href="seasonal_onset.html">seasonal_onset()</a></code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">to_time_series</span><span class="op">(</span></span>
<span>  cases <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  incidence <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  population <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  incidence_denominator <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span><span class="op">)</span> <span class="cn">NA_real_</span> <span class="kw">else</span> <span class="fl">1e+05</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  time_interval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"weeks"</span>, <span class="st">"days"</span>, <span class="st">"months"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-cases">cases<a class="anchor" aria-label="anchor" href="#arg-cases"></a></dt>
<dd><p>An integer vector containing the time series cases.</p></dd>


<dt id="arg-incidence">incidence<a class="anchor" aria-label="anchor" href="#arg-incidence"></a></dt>
<dd><p>A numeric vector containing the time series incidences.
With the given incidence_denominator.</p></dd>


<dt id="arg-population">population<a class="anchor" aria-label="anchor" href="#arg-population"></a></dt>
<dd><p>An integer vector containing the time series background population.</p></dd>


<dt id="arg-incidence-denominator">incidence_denominator<a class="anchor" aria-label="anchor" href="#arg-incidence-denominator"></a></dt>
<dd><p>An integer &gt;= 1, specifying the observations per incidence-denominator.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>A date vector containing the corresponding dates.</p></dd>


<dt id="arg-time-interval">time_interval<a class="anchor" aria-label="anchor" href="#arg-time-interval"></a></dt>
<dd><p>A character vector specifying the time interval. Choose between 'days', 'weeks', or 'months'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tsd</code> object containing:</p><ul><li><p>'time': The time point for the corresponding data.</p></li>
<li><p>'cases': The number of cases at the time point.</p></li>
<li><p>'incidence': The incidence per <code>incidence_denominator</code> at the time point. (optional)</p></li>
<li><p>'population': The background population for the cases at the time point. (optional)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create a `tsd` object with only cases</span></span></span>
<span class="r-in"><span><span class="va">tsd_cases</span> <span class="op">&lt;-</span> <span class="fu">to_time_series</span><span class="op">(</span></span></span>
<span class="r-in"><span>  cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">20</span>, <span class="fl">18</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"1 week"</span>, length.out <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a `tsd` object with incidence from cases, population and default incidence_denominator</span></span></span>
<span class="r-in"><span><span class="va">tsd_calculate_incidence</span> <span class="op">&lt;-</span> <span class="fu">to_time_series</span><span class="op">(</span></span></span>
<span class="r-in"><span>  cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">120</span>, <span class="fl">130</span>, <span class="fl">150</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"1 week"</span>, length.out <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3000000</span>, <span class="fl">3000000</span>, <span class="fl">3000000</span>, <span class="fl">3000000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a `tsd` object with cases from incidence, population and default incidence_denominator</span></span></span>
<span class="r-in"><span><span class="va">tsd_calculate_cases</span> <span class="op">&lt;-</span> <span class="fu">to_time_series</span><span class="op">(</span></span></span>
<span class="r-in"><span>  incidence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7.8</span>, <span class="fl">8</span>, <span class="fl">8.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2023-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"1 week"</span>, length.out <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  population <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3000000</span>, <span class="fl">3000000</span>, <span class="fl">3000000</span>, <span class="fl">3000000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sofia Myrup Otero, Kasper Schou Telkamp, Lasse Engbo Christiansen, <a href="https://www.ssi.dk/" class="external-link"><img src="https://www.ssi.dk/assets/images/ssi-logo-optimeret.svg" alt="SSI" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

